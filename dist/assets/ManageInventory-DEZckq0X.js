import{a as o,j as s,$ as y,L as i,V as l}from"./index-m1II4a16.js";import{a as g}from"./index-C0Bg54wM.js";import"./vendor-CiyiiN1J.js";const N=()=>{const r=localStorage.getItem("accessToken"),h=localStorage.getItem("email"),{data:n,isLoading:m,refetch:x}=o({queryKey:["manageItems"],queryFn:async()=>await fetch("https://stock-world-server.onrender.com/manageInventory",{headers:{Authorization:`${h} ${r}`}}).then(e=>e.json())});if(m)return s.jsx("div",{className:"flex justify-center my-10",children:s.jsx(y,{width:"200",color:"#4fa94d"})});const c=async e=>{if(window.confirm("Delete")){const d=`https://stock-world-server.onrender.com/inventory/${e}`;try{await g.delete(d,{id:e}).then(a=>{const{data:j}=a;j&&(l.success("Item Deleted"),x())})}catch(a){l.error(a.message),console.log(a)}}else return};return s.jsxs("section",{className:"mt-6 container mx-auto",children:[s.jsx("h2",{className:"font-bold text-2xl text-center",children:"Manage inventory"}),s.jsx("div",{className:"text-center",children:s.jsx(i,{to:"/addProduct",className:"btn btn-outline hover:btn-primary mt-4",children:"Add New Product"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Product Id"}),s.jsx("th",{children:"Product Name"}),s.jsx("th",{children:"Quantity"}),s.jsx("th",{children:"Supplier"}),s.jsx("th",{children:"Image"}),s.jsx("th",{children:"Manage Product"})]})}),n==null?void 0:n.map(e=>{var t;return s.jsx("tbody",{children:s.jsxs("tr",{className:"hover",children:[s.jsx("td",{children:e==null?void 0:e._id}),s.jsx("td",{children:s.jsxs("div",{className:"tooltip","data-tip":e==null?void 0:e.name,children:[(t=e==null?void 0:e.name)==null?void 0:t.slice(0,30),"..."]})}),s.jsx("td",{children:e==null?void 0:e.quantity}),s.jsx("td",{children:e==null?void 0:e.supplier}),s.jsx("td",{children:s.jsx("img",{loading:"lazy",className:"w-24",src:e==null?void 0:e.image,alt:"Inventory product images"})}),s.jsxs("td",{children:[s.jsx(i,{to:`/manageProduct/${e==null?void 0:e._id}`,className:"btn btn-xs btn-primary",children:"Manage"})," ",s.jsx("button",{className:"btn btn-xs btn-warning",onClick:()=>c(e==null?void 0:e._id),children:"Delete"})]})]})},e==null?void 0:e._id)})]})})]})};export{N as default};
//# sourceMappingURL=ManageInventory-DEZckq0X.js.map
