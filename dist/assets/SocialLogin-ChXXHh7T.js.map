{"version":3,"file":"SocialLogin-ChXXHh7T.js","sources":["../../src/Pages/Login/SocialLogin.tsx"],"sourcesContent":["// @ts-ignore\r\nimport React, { useEffect } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { useAuthState, useSignInWithGoogle } from \"react-firebase-hooks/auth\";\r\nimport auth from \"../../firebase.init\";\r\nimport toast from \"react-hot-toast\";\r\nimport axios from \"axios\";\r\n\r\nconst SocialLogin = () => {\r\n  const [user1, loading1] = useAuthState(auth);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  let from = location.state?.from?.pathname || \"/\";\r\n  const [signInWithGoogle, user, loading, error] = useSignInWithGoogle(auth);\r\n  useEffect(() => {\r\n    if (loading1) {\r\n      return;\r\n    }\r\n    if (user || user1) {\r\n      toast.success(\"Login Successful\");\r\n      // console.log(user1);\r\n      const url = \"https://stock-world-server.onrender.com/login\";\r\n      axios\r\n        // @ts-ignore\r\n        .post(url, { email: user?.email })\r\n        .then((response) => {\r\n          const { data } = response;\r\n          localStorage.setItem(\"accessToken\", data.token);\r\n          // @ts-ignore\r\n          localStorage.setItem(\"email\", user1?.email);\r\n          // console.log(data);\r\n          navigate(from, { replace: true });\r\n        })\r\n        .catch(function (error) {\r\n          toast.error(error.message);\r\n          console.log(error);\r\n        });\r\n    }\r\n    if (loading) {\r\n      return;\r\n    }\r\n    if (error) {\r\n      toast.error(error?.message);\r\n    }\r\n  }, [from, user, navigate, error, loading, loading1, user1]);\r\n  return (\r\n    <section>\r\n      <button\r\n        onClick={() => signInWithGoogle()}\r\n        className=\"btn btn-wide hover:btn-primary\"\r\n      >\r\n        {\" \"}\r\n        Continue With google\r\n      </button>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default SocialLogin;\r\n"],"names":["SocialLogin","user1","loading1","useAuthState","auth","navigate","useNavigate","from","_b","_a","useLocation","signInWithGoogle","user","loading","error","useSignInWithGoogle","useEffect","toast","axios","response","data","jsxs"],"mappings":"8JAQA,MAAMA,EAAc,IAAM,SACxB,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAaC,CAAI,EACrCC,EAAWC,EAAA,EAEjB,IAAIC,IAAOC,GAAAC,EADMC,EAAA,EACG,QAAT,YAAAD,EAAgB,OAAhB,YAAAD,EAAsB,WAAY,IAC7C,KAAM,CAACG,EAAkBC,EAAMC,EAASC,CAAK,EAAIC,EAAoBX,CAAI,EACzEY,OAAAA,EAAAA,UAAU,IAAM,CACVd,KAGAU,GAAQX,KACVgB,EAAM,QAAQ,kBAAkB,EAGhCC,EAEG,KAHS,gDAGC,CAAE,MAAON,GAAA,YAAAA,EAAM,MAAO,EAChC,KAAMO,GAAa,CAClB,KAAM,CAAE,KAAAC,GAASD,EACjB,aAAa,QAAQ,cAAeC,EAAK,KAAK,EAE9C,aAAa,QAAQ,QAASnB,GAAA,YAAAA,EAAO,KAAK,EAE1CI,EAASE,EAAM,CAAE,QAAS,EAAA,CAAM,CAClC,CAAC,EACA,MAAM,SAAUO,EAAO,CACtBG,EAAM,MAAMH,EAAM,OAAO,EACzB,QAAQ,IAAIA,CAAK,CACnB,CAAC,GAED,CAAAD,GAGAC,GACFG,EAAM,MAAMH,GAAA,YAAAA,EAAO,OAAO,EAE9B,EAAG,CAACP,EAAMK,EAAMP,EAAUS,EAAOD,EAASX,EAAUD,CAAK,CAAC,QAEvD,UAAA,CACC,SAAAoB,EAAAA,KAAC,SAAA,CACC,QAAS,IAAMV,EAAA,EACf,UAAU,iCAET,SAAA,CAAA,IAAI,sBAAA,CAAA,CAAA,EAGT,CAEJ"}