import{e as P,f as R,b as k,d as v,g as A,V as t,j as s,L as I,c as l}from"./index-m1II4a16.js";import{r as y}from"./vendor-CiyiiN1J.js";import{S as V}from"./SocialLogin-ChXXHh7T.js";import{a as q}from"./index-C0Bg54wM.js";const D="/assets/login1-BmmZ1TVr.svg",O=()=>{var g,h;const[N,n,c,o]=P(l),[S,T,m]=R(l),[a,d]=k(l),u=y.useRef("");let p=v(),x=((h=(g=A().state)==null?void 0:g.from)==null?void 0:h.pathname)||"/";y.useEffect(()=>{if(!(c||d)&&((n||a)&&(t.success("Login Successful"),q.post("https://stock-world-server.onrender.com/login",{email:a==null?void 0:a.email}).then(r=>{const{data:i}=r;localStorage.setItem("accessToken",i.token),localStorage.setItem("email",a==null?void 0:a.email),p(x,{replace:!0})}).catch(function(r){t.error(r.message),console.log(r)})),o||m))return t.error(o.message)},[o,x,c,p,n,a,m,d]);const E=e=>{var f,j,w,b;e.preventDefault();const r=(j=(f=e==null?void 0:e.target)==null?void 0:f.email)==null?void 0:j.value,i=(b=(w=e==null?void 0:e.target)==null?void 0:w.password)==null?void 0:b.value;N(r,i),e.target.reset()},L=async()=>{const e=u.current.value;e?(await S(e),t("Sent email")):t("please enter your email address")};return s.jsx("section",{className:"h-screen container mx-auto mt-20",children:s.jsxs("div",{className:"card lg:card-side bg-base-100 shadow-xl mx-auto",children:[s.jsx("figure",{children:s.jsx("img",{className:"",src:D,alt:"Album"})}),s.jsxs("div",{className:"card-body my-auto text-center",children:[s.jsx("h2",{className:"card-title text-2xl font-bold mx-auto",children:"Please Login"}),s.jsxs("form",{onSubmit:E,children:[s.jsx("input",{name:"email",type:"email",ref:u,placeholder:"Your Email",required:!0,className:"input input-bordered input-primary w-full max-w-xs"}),s.jsx("br",{}),s.jsx("input",{type:"password",name:"password",placeholder:"Your Password",required:!0,className:"input input-bordered input-primary w-full max-w-xs my-4"}),s.jsx("br",{}),s.jsx("input",{type:"submit",value:"Login",className:"btn hover:btn-primary btn-wide mt-2"})]}),s.jsxs("h1",{children:["Don't have an account, Please"," ",s.jsx(I,{className:"text-primary",to:"/register",children:"Register"})," "]}),s.jsxs("h1",{className:"",children:["Forget password?"," ",s.jsx("span",{className:"text-primary",onClick:L,children:"Reset Password"})]}),s.jsx("div",{className:"divider",children:"OR"}),s.jsx(V,{})]})]})})};export{O as default};
//# sourceMappingURL=Login-CNR5q5Qz.js.map
