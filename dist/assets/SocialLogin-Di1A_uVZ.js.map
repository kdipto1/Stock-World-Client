{"version":3,"file":"SocialLogin-Di1A_uVZ.js","sources":["../../src/Pages/Login/SocialLogin.tsx"],"sourcesContent":["// @ts-ignore\r\nimport React, { useEffect } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { useAuthState, useSignInWithGoogle } from \"react-firebase-hooks/auth\";\r\nimport auth from \"../../firebase.init\";\r\nimport toast from \"react-hot-toast\";\r\nimport axios from \"axios\";\r\n\r\nconst SocialLogin = () => {\r\n  const [user1, loading1] = useAuthState(auth);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  let from = location.state?.from?.pathname || \"/\";\r\n  const [signInWithGoogle, user, loading, error] = useSignInWithGoogle(auth);\r\n  useEffect(() => {\r\n    if (loading1) {\r\n      return;\r\n    }\r\n    if (user || user1) {\r\n      toast.success(\"Login Successful\");\r\n      // console.log(user1);\r\n      const url = \"https://stock-world-server.onrender.com/login\";\r\n      axios\r\n        // @ts-ignore\r\n        .post(url, { email: user?.email })\r\n        .then((response) => {\r\n          const { data } = response;\r\n          localStorage.setItem(\"accessToken\", data.token);\r\n          // @ts-ignore\r\n          localStorage.setItem(\"email\", user1?.email);\r\n          // console.log(data);\r\n          navigate(from, { replace: true });\r\n        })\r\n        .catch(function (error) {\r\n          toast.error(error.message);\r\n          console.log(error);\r\n        });\r\n    }\r\n    if (loading) {\r\n      return;\r\n    }\r\n    if (error) {\r\n      toast.error(error?.message);\r\n    }\r\n  }, [from, user, navigate, error, loading, loading1, user1]);\r\n  return (\r\n    <section className=\"w-full\">\r\n      <button\r\n        onClick={() => signInWithGoogle()}\r\n        disabled={loading || loading1}\r\n        className=\"btn btn-outline btn-primary w-full gap-2 hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n      >\r\n        {loading || loading1 ? (\r\n          <div className=\"animate-spin rounded-full h-5 w-5 border-2 border-gray-200 border-t-primary\"></div>\r\n        ) : (\r\n          <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\r\n            <path\r\n              fill=\"currentColor\"\r\n              d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\r\n            />\r\n            <path\r\n              fill=\"currentColor\"\r\n              d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\r\n            />\r\n            <path\r\n              fill=\"currentColor\"\r\n              d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\r\n            />\r\n            <path\r\n              fill=\"currentColor\"\r\n              d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\r\n            />\r\n          </svg>\r\n        )}\r\n        {loading || loading1 ? 'Signing in...' : 'Continue with Google'}\r\n      </button>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default SocialLogin;\r\n"],"names":["SocialLogin","user1","loading1","useAuthState","auth","navigate","useNavigate","from","_b","_a","useLocation","signInWithGoogle","user","loading","error","useSignInWithGoogle","useEffect","toast","axios","response","data","jsx","jsxs"],"mappings":"mKAQA,MAAMA,EAAc,IAAM,SACxB,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAaC,CAAI,EACrCC,EAAWC,EAAA,EAEjB,IAAIC,IAAOC,GAAAC,EADMC,EAAA,EACG,QAAT,YAAAD,EAAgB,OAAhB,YAAAD,EAAsB,WAAY,IAC7C,KAAM,CAACG,EAAkBC,EAAMC,EAASC,CAAK,EAAIC,EAAoBX,CAAI,EACzEY,OAAAA,EAAAA,UAAU,IAAM,CACVd,KAGAU,GAAQX,KACVgB,EAAM,QAAQ,kBAAkB,EAGhCC,EAEG,KAHS,gDAGC,CAAE,MAAON,GAAA,YAAAA,EAAM,MAAO,EAChC,KAAMO,GAAa,CAClB,KAAM,CAAE,KAAAC,GAASD,EACjB,aAAa,QAAQ,cAAeC,EAAK,KAAK,EAE9C,aAAa,QAAQ,QAASnB,GAAA,YAAAA,EAAO,KAAK,EAE1CI,EAASE,EAAM,CAAE,QAAS,EAAA,CAAM,CAClC,CAAC,EACA,MAAM,SAAUO,EAAO,CACtBG,EAAM,MAAMH,EAAM,OAAO,EACzB,QAAQ,IAAIA,CAAK,CACnB,CAAC,GAED,CAAAD,GAGAC,GACFG,EAAM,MAAMH,GAAA,YAAAA,EAAO,OAAO,EAE9B,EAAG,CAACP,EAAMK,EAAMP,EAAUS,EAAOD,EAASX,EAAUD,CAAK,CAAC,EAExDoB,EAAAA,IAAC,UAAA,CAAQ,UAAU,SACjB,SAAAC,EAAAA,KAAC,SAAA,CACC,QAAS,IAAMX,EAAA,EACf,SAAUE,GAAWX,EACrB,UAAU,uIAET,SAAA,CAAAW,GAAWX,EACVmB,EAAAA,IAAC,MAAA,CAAI,UAAU,6EAAA,CAA8E,EAE7FC,EAAAA,KAAC,MAAA,CAAI,UAAU,UAAU,QAAQ,YAC/B,SAAA,CAAAD,EAAAA,IAAC,OAAA,CACC,KAAK,eACL,EAAE,yHAAA,CAAA,EAEJA,EAAAA,IAAC,OAAA,CACC,KAAK,eACL,EAAE,uIAAA,CAAA,EAEJA,EAAAA,IAAC,OAAA,CACC,KAAK,eACL,EAAE,+HAAA,CAAA,EAEJA,EAAAA,IAAC,OAAA,CACC,KAAK,eACL,EAAE,qIAAA,CAAA,CACJ,EACF,EAEDR,GAAWX,EAAW,gBAAkB,sBAAA,CAAA,CAAA,EAE7C,CAEJ"}