{"version":3,"file":"ManageInventory-DEZckq0X.js","sources":["../../src/Pages/ManageInventory/ManageInventory.tsx"],"sourcesContent":["// @ts-nocheck\r\nimport { InfinitySpin } from \"react-loader-spinner\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst ManageInventory = () => {\r\n  const accessToken = localStorage.getItem(\"accessToken\");\r\n  const email = localStorage.getItem(\"email\");\r\n  const {\r\n    data: inventoryItems,\r\n    isLoading,\r\n    refetch,\r\n  } = useQuery({\r\n    queryKey: [\"manageItems\"],\r\n    queryFn: async () =>\r\n      await fetch(\"https://stock-world-server.onrender.com/manageInventory\", {\r\n        headers: {\r\n          Authorization: `${email} ${accessToken}`,\r\n        },\r\n      }).then((res) => res.json()),\r\n  });\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex justify-center my-10\">\r\n        <InfinitySpin width=\"200\" color=\"#4fa94d\" />\r\n      </div>\r\n    );\r\n  }\r\n  const deleteItem = async (id) => {\r\n    const verify = window.confirm(\"Delete\");\r\n    if (!verify) {\r\n      return;\r\n    } else {\r\n      const url = `https://stock-world-server.onrender.com/inventory/${id}`;\r\n      try {\r\n        await axios.delete(url, { id }).then((response) => {\r\n          const { data } = response;\r\n          if (data) {\r\n            toast.success(\"Item Deleted\");\r\n            refetch();\r\n          }\r\n        });\r\n      } catch (error) {\r\n        toast.error(error.message);\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n  // console.log(items);\r\n  // console.log(email, accessToken);\r\n  return (\r\n    <section className=\"mt-6 container mx-auto\">\r\n      <h2 className=\"font-bold text-2xl text-center\">Manage inventory</h2>\r\n      <div className=\"text-center\">\r\n        <Link\r\n          to=\"/addProduct\"\r\n          className=\"btn btn-outline hover:btn-primary mt-4\"\r\n        >\r\n          Add New Product\r\n        </Link>\r\n      </div>\r\n      {/* <h2 className=\"mb-2 font-bold\">\r\n        Total Products: {inventoryItems?.length}\r\n      </h2> */}\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"table w-full\">\r\n          <thead>\r\n            <tr>\r\n              <th>Product Id</th>\r\n              <th>Product Name</th>\r\n              <th>Quantity</th>\r\n              <th>Supplier</th>\r\n              <th>Image</th>\r\n              <th>Manage Product</th>\r\n            </tr>\r\n          </thead>\r\n          {inventoryItems?.map((product) => (\r\n            <tbody key={product?._id}>\r\n              <tr className=\"hover\">\r\n                <td>{product?._id}</td>\r\n                <td>\r\n                  <div className=\"tooltip\" data-tip={product?.name}>\r\n                    {product?.name?.slice(0, 30)}...\r\n                  </div>\r\n                </td>\r\n                <td>{product?.quantity}</td>\r\n                <td>{product?.supplier}</td>\r\n                <td>\r\n                  <img\r\n                    loading=\"lazy\"\r\n                    className=\"w-24\"\r\n                    src={product?.image}\r\n                    alt=\"Inventory product images\"\r\n                  />\r\n                </td>\r\n                <td>\r\n                  <Link\r\n                    to={`/manageProduct/${product?._id}`}\r\n                    className=\"btn btn-xs btn-primary\"\r\n                  >\r\n                    Manage\r\n                  </Link>{\" \"}\r\n                  <button\r\n                    className=\"btn btn-xs btn-warning\"\r\n                    onClick={() => deleteItem(product?._id)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          ))}\r\n        </table>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default ManageInventory;\r\n"],"names":["ManageInventory","accessToken","email","inventoryItems","isLoading","refetch","useQuery","res","jsx","InfinitySpin","deleteItem","id","url","axios","response","data","toast","error","jsxs","Link","product","_a"],"mappings":"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"}