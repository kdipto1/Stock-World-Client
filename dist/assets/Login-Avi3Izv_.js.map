{"version":3,"file":"Login-Avi3Izv_.js","sources":["../../src/Images/Login/login1.svg","../../src/Pages/Login/Login.tsx"],"sourcesContent":["export default \"__VITE_ASSET__DPHphLDK__\"","// @ts-nocheck\r\n/* eslint-disable react/no-unescaped-entities */\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport SocialLogin from \"./SocialLogin\";\r\nimport login1 from \"../../Images/Login/login1.svg\";\r\nimport toast from \"react-hot-toast\";\r\nimport { sendEmailVerification } from \"firebase/auth\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport {\r\n  useAuthState,\r\n  // useSendEmailVerification,\r\n  useSendPasswordResetEmail,\r\n  useSignInWithEmailAndPassword,\r\n} from \"react-firebase-hooks/auth\";\r\nimport auth from \"../../firebase.init\";\r\nimport axios from \"axios\";\r\n\r\nconst Login = () => {\r\n  const [signInWithEmailAndPassword, user, loading, error] =\r\n    useSignInWithEmailAndPassword(auth);\r\n  const [sendPasswordResetEmail, sending, resetError] =\r\n    useSendPasswordResetEmail(auth);\r\n  // const [sendEmailVerification, verifySending, verifyError] =\r\n  //   useSendEmailVerification(auth);\r\n  const [user1, loading1] = useAuthState(auth);\r\n  const emailRef = useRef(\"\");\r\n  let navigate = useNavigate();\r\n  let location = useLocation();\r\n  let from = location.state?.from?.pathname || \"/\";\r\n  useEffect(() => {\r\n    if (loading || loading1) {\r\n      return;\r\n    }\r\n    if (user || user1) {\r\n      toast.success(\"Login Successful\");\r\n      // console.log(user1);\r\n      const url = \"https://stock-world-server.onrender.com/login\";\r\n      axios\r\n        .post(url, { email: user1?.email })\r\n        .then((response) => {\r\n          const { data } = response;\r\n          localStorage.setItem(\"accessToken\", data.token);\r\n          localStorage.setItem(\"email\", user1?.email);\r\n          // console.log(data);\r\n          navigate(from, { replace: true });\r\n        })\r\n        .catch(function (error) {\r\n          toast.error(error.message);\r\n          console.log(error);\r\n        });\r\n    }\r\n    if (error || resetError) {\r\n      return toast.error(error.message);\r\n    }\r\n  }, [error, from, loading, navigate, user, user1, resetError, loading1]);\r\n\r\n  const handleLogin = (event) => {\r\n    event.preventDefault();\r\n    const email = event?.target?.email?.value;\r\n    const password = event?.target?.password?.value;\r\n    signInWithEmailAndPassword(email, password);\r\n    event.target.reset();\r\n  };\r\n  const resetPassword = async () => {\r\n    const email = emailRef.current.value;\r\n    if (email) {\r\n      await sendPasswordResetEmail(email);\r\n      toast(\"Sent email\");\r\n    } else {\r\n      toast(\"please enter your email address\");\r\n    }\r\n  };\r\n  return (\r\n    <section className=\"min-h-screen bg-gradient-to-br from-base-200 to-base-300 flex items-center justify-center p-4\">\r\n      <div className=\"card lg:card-side bg-base-100 shadow-2xl max-w-4xl w-full\">\r\n        <figure className=\"lg:w-1/2\">\r\n          <img className=\"object-cover w-full h-full\" src={login1} alt=\"Login illustration\" />\r\n        </figure>\r\n        <div className=\"card-body lg:w-1/2 justify-center\">\r\n          <div className=\"text-center mb-6\">\r\n            <h2 className=\"text-3xl font-bold text-primary mb-2\">\r\n              Welcome Back!\r\n            </h2>\r\n            <p className=\"text-base-content/70\">Please sign in to your account</p>\r\n          </div>\r\n          \r\n          <form onSubmit={handleLogin} className=\"space-y-4\">\r\n            <div className=\"form-control\">\r\n              <label className=\"label\">\r\n                <span className=\"label-text font-medium\">Email</span>\r\n              </label>\r\n              <input\r\n                name=\"email\"\r\n                type=\"email\"\r\n                ref={emailRef}\r\n                placeholder=\"Enter your email\"\r\n                required\r\n                className=\"input input-bordered input-primary w-full focus:input-primary\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"form-control\">\r\n              <label className=\"label\">\r\n                <span className=\"label-text font-medium\">Password</span>\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Enter your password\"\r\n                required\r\n                className=\"input input-bordered input-primary w-full focus:input-primary\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"form-control mt-6\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn btn-primary w-full hover:shadow-lg transition-all\"\r\n              >\r\n                Sign In\r\n              </button>\r\n            </div>\r\n          </form>\r\n          \r\n          <div className=\"text-center mt-4 space-y-2\">\r\n            <p className=\"text-sm text-base-content/70\">\r\n              Don't have an account?{\" \"}\r\n              <Link className=\"text-primary hover:text-primary-focus font-medium\" to=\"/register\">\r\n                Create Account\r\n              </Link>\r\n            </p>\r\n            <p className=\"text-sm\">\r\n              Forgot your password?{\" \"}\r\n              <button \r\n                className=\"text-primary hover:text-primary-focus font-medium\" \r\n                onClick={resetPassword}\r\n              >\r\n                Reset Password\r\n              </button>\r\n            </p>\r\n          </div>\r\n          \r\n          <div className=\"divider text-base-content/50\">OR</div>\r\n          <SocialLogin />\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["login1","Login","signInWithEmailAndPassword","user","loading","error","useSignInWithEmailAndPassword","auth","sendPasswordResetEmail","sending","resetError","useSendPasswordResetEmail","user1","loading1","useAuthState","emailRef","useRef","navigate","useNavigate","from","_b","_a","useLocation","useEffect","toast","axios","response","data","handleLogin","event","email","password","_d","_c","resetPassword","jsxs","jsx","Link","SocialLogin"],"mappings":"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"}